volumes:
  alert_service_postgres:
  alert_service_redis:

services:
  alert_postgres_prod:
    container_name: alert_postgres_prod
    image: postgres:16
    env_file:
      - ./.env
    ports:
      - "5432:5432"
    volumes:
      - alert_service_postgres:/var/lib/postgresql/data

  alert_redis_prod:
    image: redis:6
    container_name: alert_redis_prod
    command: ["/bin/sh", "-c", "redis-server --requirepass $${REDIS_PASSWORD}"]
    volumes:
      - alert_service_redis:/data
    ports:
      - "6379:6379"
    env_file:
      - ./backend/.env
